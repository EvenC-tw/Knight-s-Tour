import{b as je,d as St,f as K,a as P}from"../chunks/Bz54-mgO.js";import{i as nt}from"../chunks/CqOJQGPN.js";import{w as Tt,b as Nt,o as lt,a as It}from"../chunks/DO2axhmh.js";import{b as Rt,h as V,x as Ie,k as t,Q as Ce,y as Ot,z as Lt,A as Ge,B as $e,C as Se,c as ne,ah as Ht,D as ot,a as ft,F as Dt,ar as Te,al as ut,a7 as pe,as as Ye,M as O,at as We,ad as vt,au as He,av as Bt,ak as qt,aw as Ft,d as Pt,ax as De,ay as Vt,af as ct,a5 as ve,a4 as Kt,az as dt,J as pt,aA as Ut,t as W,aB as jt,ai as Gt,ag as Yt,G as Be,aC as Wt,aD as Jt,aE as Qt,aF as Xt,aG as Zt,aH as zt,E as er,aI as tr,aJ as rr,i as ar,aK as sr,aL as ir,aM as nr,aN as lr,n as ue,aa as Je,ab as Qe,ac as or,p as bt,q as _t,s as R,N as p,w as D,v as S,f as fr,aO as he,aP as Xe,aQ as ur,aq as vr,aR as cr}from"../chunks/DwVM7Zy8.js";import{l as dr,a as pr,w as br,e as X,s as ie}from"../chunks/Cxgd5uMy.js";import{p as Ze,i as ee,b as Re,s as _r,a as hr}from"../chunks/CWPSGP8a.js";function we(e,r){return r}function mr(e,r,s,a){for(var i=[],n=r.length,l=0;l<n;l++)Bt(r[l].e,i,!0);var o=n>0&&i.length===0&&s!==null;if(o){var b=s.parentNode;qt(b),b.append(s),a.clear(),z(e,r[0].prev,r[n-1].next)}Ft(i,()=>{for(var _=0;_<n;_++){var v=r[_];o||(a.delete(v.k),z(e,v.prev,v.next)),Pt(v.e,!o)}})}function ke(e,r,s,a,i,n=null){var l=e,o={flags:r,items:new Map,first:null},b=(r&dt)!==0;if(b){var _=e;l=V?$e(ve(_)):_.appendChild(Kt())}V&&Ie();var v=null,k=!1,d=Ce(()=>{var u=s();return vt(u)?u:u==null?[]:ut(u)});Rt(()=>{var u=t(d),f=u.length;if(k&&f===0)return;k=f===0;let m=!1;if(V){var h=Ot(l)===Lt;h!==(f===0)&&(l=Ge(),$e(l),Se(!1),m=!0)}if(V){for(var C=null,E,g=0;g<f;g++){if(ne.nodeType===8&&ne.data===Ht){l=ne,m=!0,Se(!1);break}var y=u[g],A=a(y,g);E=ht(ne,o,C,null,y,A,g,i,r,s),o.items.set(A,E),C=E}f>0&&$e(Ge())}V||gr(u,o,l,i,r,a,s),n!==null&&(f===0?v?ot(v):v=ft(()=>n(l)):v!==null&&Dt(v,()=>{v=null})),m&&Se(!0),t(d)}),V&&(l=ne)}function gr(e,r,s,a,i,n,l){var te,re,le,oe;var o=(i&Ut)!==0,b=(i&(De|He))!==0,_=e.length,v=r.items,k=r.first,d=k,u,f=null,m,h=[],C=[],E,g,y,A;if(o)for(A=0;A<_;A+=1)E=e[A],g=n(E,A),y=v.get(g),y!==void 0&&((te=y.a)==null||te.measure(),(m??(m=new Set)).add(y));for(A=0;A<_;A+=1){if(E=e[A],g=n(E,A),y=v.get(g),y===void 0){var $=d?d.e.nodes_start:s;f=ht($,r,f,f===null?r.first:f.next,E,g,A,a,i,l),v.set(g,f),h=[],C=[],d=f.next;continue}if(b&&yr(y,E,A,i),(y.e.f&Te)!==0&&(ot(y.e),o&&((re=y.a)==null||re.unfix(),(m??(m=new Set)).delete(y))),y!==d){if(u!==void 0&&u.has(y)){if(h.length<C.length){var M=C[0],x;f=M.prev;var T=h[0],U=h[h.length-1];for(x=0;x<h.length;x+=1)ze(h[x],M,s);for(x=0;x<C.length;x+=1)u.delete(C[x]);z(r,T.prev,U.next),z(r,f,T),z(r,U,M),d=M,f=U,A-=1,h=[],C=[]}else u.delete(y),ze(y,d,s),z(r,y.prev,y.next),z(r,y,f===null?r.first:f.next),z(r,f,y),f=y;continue}for(h=[],C=[];d!==null&&d.k!==g;)(d.e.f&Te)===0&&(u??(u=new Set)).add(d),C.push(d),d=d.next;if(d===null)continue;y=d}h.push(y),f=y,d=y.next}if(d!==null||u!==void 0){for(var N=u===void 0?[]:ut(u);d!==null;)(d.e.f&Te)===0&&N.push(d),d=d.next;var F=N.length;if(F>0){var B=(i&dt)!==0&&_===0?s:null;if(o){for(A=0;A<F;A+=1)(le=N[A].a)==null||le.measure();for(A=0;A<F;A+=1)(oe=N[A].a)==null||oe.fix()}mr(r,N,B,v)}}o&&pt(()=>{var fe;if(m!==void 0)for(y of m)(fe=y.a)==null||fe.apply()}),pe.first=r.first&&r.first.e,pe.last=f&&f.e}function yr(e,r,s,a){(a&De)!==0&&Ye(e.v,r),(a&He)!==0?Ye(e.i,s):e.i=s}function ht(e,r,s,a,i,n,l,o,b,_){var v=(b&De)!==0,k=(b&Vt)===0,d=v?k?O(i):We(i):i,u=(b&He)===0?l:We(l),f={i:u,v:d,k:n,a:null,e:null,prev:s,next:a};try{return f.e=ft(()=>o(e,d,u,_),V),f.e.prev=s&&s.e,f.e.next=a&&a.e,s===null?r.first=f:(s.next=f,s.e.next=f.e),a!==null&&(a.prev=f,a.e.prev=f.e),f}finally{}}function ze(e,r,s){for(var a=e.next?e.next.e.nodes_start:s,i=r?r.e.nodes_start:s,n=e.e.nodes_start;n!==a;){var l=ct(n);i.before(n),n=l}}function z(e,r,s){r===null?e.first=s:(r.next=s,r.e.next=s&&s.e),s!==null&&(s.prev=r,s.e.prev=r&&r.e)}function $r(e,r,s=!1,a=!1,i=!1){var n=e,l="";W(()=>{var o=pe;if(l===(l=r()??"")){V&&Ie();return}if(o.nodes_start!==null&&(jt(o.nodes_start,o.nodes_end),o.nodes_start=o.nodes_end=null),l!==""){if(V){ne.data;for(var b=Ie(),_=b;b!==null&&(b.nodeType!==8||b.data!=="");)_=b,b=ct(b);if(b===null)throw Gt(),Yt;je(ne,_),n=$e(b);return}var v=l+"";s?v=`<svg>${v}</svg>`:a&&(v=`<math>${v}</math>`);var k=St(v);if((s||a)&&(k=ve(k)),je(ve(k),k.lastChild),s||a)for(;ve(k);)n.before(ve(k));else n.before(k)}})}const et=[...` 	
\r\fÂ \v\uFEFF`];function Cr(e,r,s){var a=""+e;if(s){for(var i in s)if(s[i])a=a?a+" "+i:i;else if(a.length)for(var n=i.length,l=0;(l=a.indexOf(i,l))>=0;){var o=l+n;(l===0||et.includes(a[l-1]))&&(o===a.length||et.includes(a[o]))?a=(l===0?"":a.substring(0,l))+a.substring(o+1):l=o}}return a===""?null:a}function wr(e,r){return e==null?null:String(e)}function kr(e,r,s,a,i,n){var l=e.__className;if(V||l!==s||l===void 0){var o=Cr(s,a,n);(!V||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=s}else if(n&&i!==n)for(var b in n){var _=!!n[b];(i==null||_!==!!i[b])&&e.classList.toggle(b,_)}return n}function tt(e,r,s,a){var i=e.__style;if(V||i!==r){var n=wr(r);(!V||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=r}return a}function mt(e,r,s){if(e.multiple){if(r==null)return;if(!vt(r))return Wt();for(var a of e.options)a.selected=r.includes(de(a));return}for(a of e.options){var i=de(a);if(Jt(i,r)){a.selected=!0;return}}(!s||r!==void 0)&&(e.selectedIndex=-1)}function xr(e,r){Be(()=>{var s=new MutationObserver(()=>{var a=e.__value;mt(e,a)});return s.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{s.disconnect()}})}function Er(e,r,s=r){var a=!0;dr(e,"change",i=>{var n=i?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(n),de);else{var o=e.querySelector(n)??e.querySelector("option:not([disabled])");l=o&&de(o)}s(l)}),Be(()=>{var i=r();if(mt(e,i,a),a&&i===void 0){var n=e.querySelector(":checked");n!==null&&(i=de(n),s(i))}e.__value=i,a=!1}),xr(e)}function de(e){return"__value"in e?e.__value:e.value}const Ar=Symbol("is custom element"),Mr=Symbol("is html");function ce(e,r,s,a){var i=Sr(e);V&&(i[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||i[r]!==(i[r]=s)&&(r==="loading"&&(e[zt]=s),s==null?e.removeAttribute(r):typeof s!="string"&&Tr(e).includes(r)?e[r]=s:e.setAttribute(r,s))}function Sr(e){return e.__attributes??(e.__attributes={[Ar]:e.nodeName.includes("-"),[Mr]:e.namespaceURI===Qt})}var rt=new Map;function Tr(e){var r=rt.get(e.nodeName);if(r)return r;rt.set(e.nodeName,r=[]);for(var s,a=e,i=Element.prototype;i!==a;){s=Zt(a);for(var n in s)s[n].set&&r.push(n);a=Xt(a)}return r}const Nr=()=>performance.now(),J={tick:e=>requestAnimationFrame(e),now:()=>Nr(),tasks:new Set};function gt(){const e=J.now();J.tasks.forEach(r=>{r.c(e)||(J.tasks.delete(r),r.f())}),J.tasks.size!==0&&J.tick(gt)}function yt(e){let r;return J.tasks.size===0&&J.tick(gt),{promise:new Promise(s=>{J.tasks.add(r={c:e,f:s})}),abort(){J.tasks.delete(r)}}}function me(e,r){br(()=>{e.dispatchEvent(new CustomEvent(r))})}function Ir(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const r=e.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function at(e){const r={},s=e.split(";");for(const a of s){const[i,n]=a.split(":");if(!i||n===void 0)break;const l=Ir(i.trim());r[l]=n.trim()}return r}const Rr=e=>e;function ge(e,r,s,a){var i=(e&ir)!==0,n=(e&nr)!==0,l=i&&n,o=(e&sr)!==0,b=l?"both":i?"in":"out",_,v=r.inert,k=r.style.overflow,d,u;function f(){var g=or,y=pe;Je(null),Qe(null);try{return _??(_=s()(r,(a==null?void 0:a())??{},{direction:b}))}finally{Je(g),Qe(y)}}var m={is_global:o,in(){var g;if(r.inert=v,!i){u==null||u.abort(),(g=u==null?void 0:u.reset)==null||g.call(u);return}n||d==null||d.abort(),me(r,"introstart"),d=Oe(r,f(),u,1,()=>{me(r,"introend"),d==null||d.abort(),d=_=void 0,r.style.overflow=k})},out(g){if(!n){g==null||g(),_=void 0;return}r.inert=!0,me(r,"outrostart"),u=Oe(r,f(),d,0,()=>{me(r,"outroend"),g==null||g()})},stop:()=>{d==null||d.abort(),u==null||u.abort()}},h=pe;if((h.transitions??(h.transitions=[])).push(m),i&&pr){var C=o;if(!C){for(var E=h.parent;E&&(E.f&er)!==0;)for(;(E=E.parent)&&(E.f&tr)===0;);C=!E||(E.f&rr)!==0}C&&Be(()=>{ar(()=>m.in())})}}function Oe(e,r,s,a,i){var n=a===1;if(lr(r)){var l,o=!1;return pt(()=>{if(!o){var h=r({direction:n?"in":"out"});l=Oe(e,h,s,a,i)}}),{abort:()=>{o=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(s==null||s.deactivate(),!(r!=null&&r.duration))return i(),{abort:ue,deactivate:ue,reset:ue,t:()=>a};const{delay:b=0,css:_,tick:v,easing:k=Rr}=r;var d=[];if(n&&s===void 0&&(v&&v(0,1),_)){var u=at(_(0,1));d.push(u,u)}var f=()=>1-a,m=e.animate(d,{duration:b,fill:"forwards"});return m.onfinish=()=>{m.cancel();var h=(s==null?void 0:s.t())??1-a;s==null||s.abort();var C=a-h,E=r.duration*Math.abs(C),g=[];if(E>0){var y=!1;if(_)for(var A=Math.ceil(E/16.666666666666668),$=0;$<=A;$+=1){var M=h+C*k($/A),x=at(_(M,1-M));g.push(x),y||(y=x.overflow==="hidden")}y&&(e.style.overflow="hidden"),f=()=>{var T=m.currentTime;return h+C*k(T/E)},v&&yt(()=>{if(m.playState!=="running")return!1;var T=f();return v(T,1-T),!0})}m=e.animate(g,{duration:E,fill:"forwards"}),m.onfinish=()=>{f=()=>a,v==null||v(a,1-a),i()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=ue)},deactivate:()=>{i=ue},reset:()=>{a===0&&(v==null||v(1,0))},t:()=>f()}}function Or(e){const r=e-1;return r*r*r+1}function ye(e,{delay:r=0,duration:s=400,easing:a=Or,start:i=0,opacity:n=0}={}){const l=getComputedStyle(e),o=+l.opacity,b=l.transform==="none"?"":l.transform,_=1-i,v=o*(1-n);return{delay:r,duration:s,easing:a,css:(k,d)=>`
			transform: ${b} scale(${1-_*d});
			opacity: ${o-v*d}
		`}}function st(e){return Object.prototype.toString.call(e)==="[object Date]"}function Le(e,r,s,a){if(typeof s=="number"||st(s)){const i=a-s,n=(s-r)/(e.dt||1/60),l=e.opts.stiffness*i,o=e.opts.damping*n,b=(l-o)*e.inv_mass,_=(n+b)*e.dt;return Math.abs(_)<e.opts.precision&&Math.abs(i)<e.opts.precision?a:(e.settled=!1,st(s)?new Date(s.getTime()+_):s+_)}else{if(Array.isArray(s))return s.map((i,n)=>Le(e,r[n],s[n],a[n]));if(typeof s=="object"){const i={};for(const n in s)i[n]=Le(e,r[n],s[n],a[n]);return i}else throw new Error(`Cannot spring ${typeof s} values`)}}function Lr(e,r={}){const s=Tt(e),{stiffness:a=.15,damping:i=.8,precision:n=.01}=r;let l,o,b,_=e,v=e,k=1,d=0,u=!1;function f(h,C={}){v=h;const E=b={};return e==null||C.hard||m.stiffness>=1&&m.damping>=1?(u=!0,l=J.now(),_=h,s.set(e=v),Promise.resolve()):(C.soft&&(d=1/((C.soft===!0?.5:+C.soft)*60),k=0),o||(l=J.now(),u=!1,o=yt(g=>{if(u)return u=!1,o=null,!1;k=Math.min(k+d,1);const y=Math.min(g-l,1e3/30),A={inv_mass:k,opts:m,settled:!0,dt:y*60/1e3},$=Le(A,_,e,v);return l=g,_=e,s.set(e=$),A.settled&&(o=null),!A.settled})),new Promise(g=>{o.promise.then(()=>{E===b&&g()})}))}const m={set:f,update:(h,C)=>f(h(v,e),C),subscribe:s.subscribe,stiffness:a,damping:i,precision:n};return m}var Hr=K('<span class="step-number svelte-1jrcy6h"> </span>'),Dr=K('<span class="marker next-move-marker svelte-1jrcy6h">â</span>'),Br=K('<div role="button" tabindex="0"><!>  <!></div>'),qr=K('<div class="board-row svelte-1jrcy6h"></div>'),Fr=K('<span class="marker knight-marker animated-knight-marker svelte-1jrcy6h">â</span>'),Pr=K('<div class="board-container svelte-1jrcy6h"><div class="board svelte-1jrcy6h"><!> <!></div></div>');function Vr(e,r){bt(r,!1);const[s,a]=_r(),i=()=>hr(d,"$knightStyle",s);let n=Ze(r,"boardData",8),l=Ze(r,"onCellClick",8),o=O(-1),b=O(-1),_=-1,v=-1,k=O(!1);const d=Lr({x:0,y:0,opacity:0},{stiffness:.02,damping:.3});let u=O(),f=[];function m($,M,x){if(!t(u)||!f[$]||!f[$][M])return t(u)&&(!f[$]||!f[$][M])&&(h(),!f[$]||!f[$][M]),void 0;const T=t(u).getBoundingClientRect(),U=f[$][M].getBoundingClientRect(),N=U.left-T.left+U.width/2,F=U.top-T.top+U.height/2;x?d.set({x:N,y:F,opacity:1}):d.set({x:N,y:F,opacity:1},{hard:!0}),p(k,!0)}Nt(()=>{_=t(o),v=t(b);let $=!1;for(let M=0;M<n().length;M++){for(let x=0;x<n()[M].length;x++)if(n()[M][x].isCurrent){p(o,M),p(b,x),$=!0;break}if($)break}if($)$&&(t(o)!==_||t(b)!==v)&&(_!==-1&&v!==-1?m(t(o),t(b),!0):m(t(o),t(b),!1));else if(p(o,-1),p(b,-1),t(k)){const M=i();d.set({...M,opacity:0}),p(k,!1)}});function h(){if(!t(u))return;const $=t(u).querySelectorAll(".board-row");f=Array.from($).map(M=>Array.from(M.querySelectorAll(".cell"))),f[0]&&f[0][0]&&getComputedStyle(f[0][0])}lt(()=>{h(),t(o)!==-1&&t(b)!==-1&&m(t(o),t(b),!1);let $=-1,M=-1;for(let x=0;x<n().length;x++){for(let T=0;T<n()[x].length;T++)if(n()[x][T].isCurrent){$=x,M=T;break}if($!==-1)break}$!==-1&&M!==-1&&(p(o,$),p(b,M),requestAnimationFrame(()=>{h(),m($,M,!1)}))}),nt();var C=Pr(),E=R(C),g=R(E);ke(g,1,n,we,($,M,x)=>{var T=qr();ce(T,"data-row-index",x),ke(T,5,()=>t(M),we,(U,N,F)=>{var B=Br();let te;ce(B,"data-cell-row",x),ce(B,"data-cell-col",F);var re=R(B);{var le=G=>{var Q=Hr(),be=R(Q,!0);S(Q),W(()=>ie(be,t(N).step)),P(G,Q)};ee(re,G=>{t(N).step>0&&!t(N).isCurrent&&G(le)})}var oe=D(re,2);{var fe=G=>{var Q=Dr();P(G,Q)};ee(oe,G=>{t(N).isNextMove&&!(t(o)===x&&t(b)===F)&&G(fe)})}S(B),W((G,Q)=>{te=kr(B,1,"cell svelte-1jrcy6h",null,te,G),ce(B,"aria-label",Q)},[()=>({visited:t(N).visited,current:t(N).isCurrent,"next-move":t(N).isNextMove}),()=>`Cell ${x+1}-${String.fromCharCode(65+F)}${t(N).visited?" visited step "+t(N).step:""}${t(N).isCurrent?" current position":""}${t(N).isNextMove?" possible next move":""}`],Ce),X("click",B,()=>l()(x,F)),X("keypress",B,()=>l()(x,F)),P(U,B)}),S(T),P($,T)});var y=D(g,2);{var A=$=>{var M=Fr();W(()=>tt(M,`left: ${i().x??""}px; top: ${i().y??""}px; opacity: ${i().opacity??""}; transform: translate(-50%, -50%);`)),P($,M)};ee(y,$=>{t(k)&&$(A)})}S(E),Re(E,$=>p(u,$),()=>t(u)),S(C),W(()=>tt(E,`--board-columns: ${n().length>0?n()[0].length:8};`)),P(e,C),_t(),a()}function Kr(e,r,s){return e>=0&&e<s&&r>=0&&r<s}function Ne(e,r,s){const a=[],i=[-2,-2,-1,-1,1,1,2,2],n=[-1,1,-2,2,-2,2,-1,1];for(let l=0;l<8;l++){const o=e+i[l],b=r+n[l];Kr(o,b,s)&&a.push([o,b])}return a}function it(e){const r=[];for(let s=0;s<e;s++){const a=[];for(let i=0;i<e;i++)a.push({visited:!1,step:0,isCurrent:!1,isNextMove:!1});r.push(a)}return r}var Ur=K("<option> </option>"),jr=K('<button role="menuitem" class="svelte-p7cflr">çµæéæ²</button>'),Gr=K('<div class="dropdown-menu svelte-p7cflr" id="game-menu" role="menu"><button role="menuitem" class="svelte-p7cflr"> </button> <div class="menu-item-group svelte-p7cflr"><label for="board-size-select-menu" class="svelte-p7cflr">æ£ç¤å¤§å°:</label> <select id="board-size-select-menu" class="dropdown-select svelte-p7cflr"></select></div> <button role="menuitem" class="svelte-p7cflr">éå§ææ°æ¨¡å¼</button> <!></div>'),Yr=K('<div class="competition-status svelte-p7cflr"><p class="svelte-p7cflr"> </p> <p class="svelte-p7cflr"> </p></div>'),Wr=K('<div class="hint-modal-overlay svelte-p7cflr" role="presentation"><div class="hint-modal-content scroll-style svelte-p7cflr" role="dialog" aria-modal="true" aria-labelledby="hint-title"><button class="close-hint-button svelte-p7cflr" aria-label="ééæç¤º">Ã</button> <h2 id="hint-title" class="modal-title svelte-p7cflr">æºèçå»ºè¨</h2> <div class="scroll-text-content svelte-p7cflr"><!></div></div></div>'),Jr=K('<li class="svelte-p7cflr"> </li>'),Qr=K('<div class="svelte-p7cflr"><h3 class="svelte-p7cflr">è¡ååºåæ¥èª:</h3> <ul class="svelte-p7cflr"></ul></div>'),Xr=K('<div class="title-bar svelte-p7cflr"><h1 class="svelte-p7cflr">é¨å£«å·¡é</h1> <div class="menu-container svelte-p7cflr"><button class="menu-toggle-button svelte-p7cflr" aria-controls="game-menu" aria-label="é¸å®"><span class="hamburger-line svelte-p7cflr"></span> <span class="hamburger-line svelte-p7cflr"></span> <span class="hamburger-line svelte-p7cflr"></span></button> <!></div></div> <div class="controls svelte-p7cflr"><button class="reset-board-button main-action-button svelte-p7cflr">éç½®æ£ç¤</button></div> <!> <p class="svelte-p7cflr"> </p> <!> <!> <!>',1);function sa(e,r){bt(r,!1);const s=[5,6,7,8,9,10];let a=O(6),i=O(it(t(a))),n=null,l=O([]),o=0,b=O(!1),_=O(!1),v=O("æ£ç¤å·²ååãåè³½èï¼è«æå®ä½ çãé¨å£«ãåå§ä½ç½®ã"),k=O(!1),d=O(""),u=O(!1),f=O(0),m=O(600),h,C=O(!1),E=O(),g=O();const y=[6,7,8];function A(c){p(a,c),x(!1)}function $(){p(i,t(i).map((c,w)=>c.map((I,j)=>{let L={...I,isNextMove:!1,isCurrent:!1};return n&&n[0]===w&&n[1]===j&&(L.isCurrent=!0),t(b)&&n&&Ne(n[0],n[1],t(a)).some(([Y,ae])=>Y===w&&ae===j)&&(I.visited||(L.isNextMove=!0)),L})))}function M(c,w){if(!(t(_)&&!t(u))){if(t(_)&&t(u)&&t(m)>0){p(v,`è·¯å¾ä¸­æ·ï¼ãé¨å£«ãæ¼ç¬¬ ${t(f)} é (${t(a)}x${t(a)}) å¤±æãæ£ç¤å·²éç½®ï¼è«éæ°åè©¦ã`),x(!0);return}if(!(t(_)&&t(u)&&t(m)<=0)){if(!t(b))n=[c,w],o=1,he(i,t(i)[c][w].visited=!0),he(i,t(i)[c][w].step=o),t(l).push([c,w,o]),p(b,!0),t(u)&&t(f)>0&&!h&&t(m)>0?(te(),p(v,`éæ²éå§ï¼ç¬¬ ${t(f)} é (${t(a)}x${t(a)})ï¼è«ç¹¼çºç§»åé¨å£«`)):t(u)||p(v,"ãé¨å£«ãå·²éç½®ãåè³½èï¼è«éå§ç§»åé¨å£«ã");else{if(!n)return;Ne(n[0],n[1],t(a)).some(([L,H])=>L===c&&H===w)&&!t(i)[c][w].visited?(n=[c,w],o++,he(i,t(i)[c][w].visited=!0),he(i,t(i)[c][w].step=o),t(l).push([c,w,o]),t(u)?p(v,`éæ²ç¬¬ ${t(f)} é (${t(a)}x${t(a)}) - ç¬¬ ${o} æ­¥ã`):p(v,`åºåç¬¬ ${o} æ­¥ï¼ãé¨å£«ãæµéåº§æ¨ (${c+1}, ${String.fromCharCode(65+w)})ã`),o===t(a)*t(a)?t(u)?t(f)<y.length?(Xe(f),p(a,y[t(f)-1]),p(v,`æ­åå®æç¬¬ ${t(f)-1} éï¼æºåææ°ç¬¬ ${t(f)} é (${t(a)}x${t(a)})ã`),x(!0)):(p(_,!0),B(!0)):(p(_,!0),p(v,"æ¼ç®å®æãåè³½èï¼ä½ çãé¨å£«ãå·²æåéæ­·æ£ç¤ææç¯é»ãææ°ééã")):Ne(c,w,t(a)).some(([Y,ae])=>!t(i)[Y][ae].visited)||(p(_,!0),t(u)&&t(m)>0?p(v,`è·¯å¾ä¸­æ·ï¼ãé¨å£«ãæ¼ç¬¬ ${t(f)} é (${t(a)}x${t(a)}) å¡ä½ãé»ææ£ç¤ä»¥éç½®æ¬éã`):t(u)&&t(m)<=0?(p(v,`æéèç¡ä¸è·¯å¾ä¸­æ·ï¼ãé¨å£«ãæ¼ç¬¬ ${t(f)} é (${t(a)}x${t(a)}) ææ°å¤±æã`),B(!1)):p(v,`è·¯å¾åæï¼ãé¨å£«ãæ¼ç¬¬ ${o} æ­¥å¾å·²ç¡å¯ç¨è·¯å¾ãåè³½èï¼æ¬æ¬¡ææ°å®£åå¤±æã`))):t(i)[c][w].visited?p(v,`åº§æ¨ (${c+1}, ${String.fromCharCode(65+w)}) å·²é¨ç½²ææ¾éç¶ãè«é¸æå¶ä»ç¯é»ã`):p(v,`æä»¤ç¡æï¼ãé¨å£«ãç¡æ³ç§»åè³åº§æ¨ (${c+1}, ${String.fromCharCode(65+w)})ãè«éæ°è¦åè·¯å¾ã`)}$()}}}function x(c=!1){!c&&t(u)&&B(!1),p(i,it(t(a))),n=null,p(l,[]),o=0,p(b,!1),p(_,!1),t(u)&&c||(t(u)&&!c?p(v,"éæ²å·²éç½®ä¸¦çµæ­¢ã"):p(v,"æ£ç¤å·²éç½®ãç­å¾åè³½èé¨ç½²ãé¨å£«ãã")),$()}function T(c){return c<5?`ð¥ ${c}x${c} æ£ç¤å¤ªå°ï¼ç¡æ³å®æå®æ´çé¨å£«å·¡è¿´ã<br><br><b>èªªæï¼</b><br>${c}x${c} æ£ç¤å çºæ ¼å­å¤ªå°ï¼é¨å£«æéº¼èµ°é½æææ ¼å­æ²è¾¦æ³è¸©å°ï¼å°±åå¨å°æ¿éè£¡ç¹ååï¼æ°¸é ç¡æ³æ¯åè§è½é½èµ°éä¸æ¬¡ã<br><br><b>æ¸å­¸å°ç¥è­ï¼</b><br>æ¸å­¸å®¶è­æï¼åªæ 1x1ã5x5 ä»¥ä¸çé¨åæ£ç¤ï¼ææå¯è½è®é¨å£«èµ°éæ¯ä¸æ ¼ã`:c===5?"ð¥ <b>5x5 æ£ç¤å»ºè­°ï¼</b><br><br>æ¯ä¸æ­¥é½ç¡éèµ°å°ãåå¨åºè·¯æå°ãçæ ¼å­ï¼éæ¨£æ¯è¼ä¸æå¤ªæ©å¡ä½ã<br><br><b>çºä»éº¼ï¼</b><br>æ³åä½ å¨è¿·å®®è£¡ï¼æ¯æ¬¡é½åèµ°å¿«æ²è·¯çå°æ¹ï¼éæ¨£æ¯è¼ä¸æè®å¶ä»å°æ¹è®ææ­»è·¯ã<br><br><b>æ¸å­¸å°ç¥è­ï¼</b><br>5x5 æ£ç¤åªè½åå°ãéæ¾å·¡è¿´ãï¼ä¹å°±æ¯æå¾ä¸æ­¥æ²è¾¦æ³åå°èµ·é»ãéæ¯å çºæ£ç¤æ ¼æ¸æ¯å¥æ¸ï¼èµ·é»åçµé»é¡è²æä¸åï¼ç¡æ³é¦å°¾ç¸é£ã":c===6?"ð¥ <b>6x6 æ£ç¤å»ºè­°ï¼</b><br><br>åæ¨£å»ºè­°æ¯ä¸æ­¥é½èµ°å°ãåºè·¯æå°ãçæ ¼å­ï¼éæ¨£æ¯è¼å®¹æèµ°å®å¨é¨ã<br><br><b>èªªæï¼</b><br>éç¨®èµ°æ³å«ãWarnsdorff's ruleãï¼æææ¯æ¯æ¬¡é½åªåèµ°å¿«æ²è·¯çå°æ¹ã<br><br><b>æ¸å­¸å°ç¥è­ï¼</b><br>6x6 æ£ç¤éç¶æ ¼æ¸æ¯å¶æ¸ï¼ä½å çºæ ¼å­æåçéä¿ï¼éæ¯ç¡æ³é¦å°¾ç¸é£ï¼å°éå·¡è¿´ï¼ï¼åªè½åå°éæ¾å·¡è¿´ã":c===7?"ð¥ <b>7x7 æ£ç¤å»ºè­°ï¼</b><br><br>å»ºè­°éæ¯æ¯ä¸æ­¥é½èµ°å°ãåºè·¯æå°ãçæ ¼å­ã<br><br><b>èªªæï¼</b><br>éç¨®ç­ç¥å°±ååæé£èµ°çå°æ¹è§£æ±ºï¼é¿åå¾é¢å¡ä½ã<br><br><b>æ¸å­¸å°ç¥è­ï¼</b><br>7x7 æ£ç¤å çºæ ¼æ¸æ¯å¥æ¸ï¼å 5x5 ä¸æ¨£ï¼ç¡æ³é¦å°¾ç¸é£ï¼åªè½åå°éæ¾å·¡è¿´ã":c>=8?`ð¥ <b>${c}x${c} æ£ç¤å»ºè­°ï¼</b><br><br>æ¯ä¸æ­¥é½èµ°å°ãåºè·¯æå°ãçæ ¼å­ï¼éæ¨£æ¯è¼å®¹æå®ææ´åå·¡è¿´ã<br><br><b>çºä»éº¼éæ¨£èµ°ï¼</b><br>å°±åæææ¿éæï¼æåææé£æ¸çè§è½èçæï¼éæ¨£æå¾æä¸ææå°æ¹é²ä¸å»ã<br><br><b>æ¸å­¸åçï¼</b><br>${c}x${c} æ£ç¤ (ä¾å¦æ¨æºç 8x8 åéè±¡æ£æ£ç¤)ï¼æ¸å­¸å®¶è­æéç¨®æ£ç¤éå¸¸æãå°éå·¡è¿´ãââä¹å°±æ¯ä½ å¯ä»¥å¾æä¸æ ¼åºç¼ï¼èµ°éå¨é¨æ ¼å­ï¼æå¾åå°èµ·é»ã<br>éæ¯å çº ${c}x${c} æ£ç¤çæ ¼æ¸æ¯å¶æ¸ (å¦æ size æ¯å¶æ¸)ï¼ä¸æ¯æ ¼é½è½é£å°è¶³å¤ å¤çå¶ä»æ ¼å­ï¼æ¯è¼ä¸å®¹æå¡ä½ã<br><br><b>è¶£å³è£åï¼</b><br>æ©å¨ 18 ä¸ç´ï¼æ¸å­¸å®¶å°±å°éååé¡å¾æèè¶£ï¼çè³é£æ­æï¼Eulerï¼é½æ¾ç ç©¶éã<br>"Warnsdorff's rule"éåæ¹æ³ï¼å°±æ¯ç¨ä¾å¹«å©äººé¡åé»è¦æ´å®¹ææ¾å°ä¸æ¢å®æ´çè·¯å¾ã<br>å¦æä½ æ³ææ°èªå·±ï¼å¯ä»¥è©¦èè®æå¾ä¸æ­¥åå°èµ·é»ï¼éå°±æ¯ãå°éå·¡è¿´ãï¼`:""}function U(){p(k,!t(k)),t(k)&&p(d,T(t(a)))}function N(c){c.target===c.currentTarget&&p(k,!1)}function F(){p(u,!0),p(f,1),p(a,y[t(f)-1]),p(m,600),p(v,`ææ°æ¨¡å¼ï¼ç¬¬ ${t(f)} é (${t(a)}x${t(a)})ã`),h&&clearInterval(h),x(!0)}function B(c){p(u,!1),h&&clearInterval(h),h=void 0,c?p(v,"éæ²å®æï¼æ­åä½ ééææéå¡ï¼"):t(m)<=0?p(v,"æéå°ï¼éæ²ææ°å¤±æã"):p(v,"éæ²æåçµæã"),p(f,0)}function te(){h&&clearInterval(h),!(!t(u)||t(m)<=0)&&(h=setInterval(()=>{Xe(m,-1),t(m)<=0&&(clearInterval(h),h=void 0,p(_,!0),p(v,`æéèç¡ï¼ãé¨å£«ãæ¼ç¬¬ ${t(f)} é (${t(a)}x${t(a)}) ææ°å¤±æã`),p(u,!1),$())},1e3))}function re(){U(),p(C,!1)}function le(){F(),p(C,!1)}function oe(c){B(c),p(C,!1)}function fe(c){A(c)}function G(){p(C,!t(C))}function Q(c){t(g)&&!t(g).contains(c.target)&&t(E)&&!t(E).contains(c.target)&&p(C,!1)}lt(()=>{$(),document.addEventListener("click",Q,!0)}),It(()=>{h&&clearInterval(h),document.removeEventListener("click",Q,!0)}),nt();var be=Xr(),xe=fr(be),qe=D(R(xe),2),_e=R(qe);Re(_e,c=>p(E,c),()=>t(E));var $t=D(_e,2);{var Ct=c=>{var w=Gr(),I=R(w),j=R(I,!0);S(I);var L=D(I,2),H=D(R(L),2);W(()=>{t(a),ur(()=>{t(u)})}),ke(H,5,()=>s,we,(q,Z)=>{var se=Ur(),Ue={},Mt=R(se);S(se),W(()=>{Ue!==(Ue=t(Z))&&(se.value=(se.__value=t(Z))??""),ie(Mt,`${t(Z)??""} x ${t(Z)??""}`)}),P(q,se)}),S(H),S(L);var Y=D(L,2),ae=D(Y,2);{var Me=q=>{var Z=jr();X("click",Z,()=>oe(!1)),P(q,Z)};ee(ae,q=>{t(u)&&q(Me)})}S(w),Re(w,q=>p(g,q),()=>t(g)),W(()=>{I.disabled=t(u),ie(j,t(k)?"é±èæç¤º":"é¡¯ç¤ºæç¤º"),H.disabled=t(u),Y.disabled=t(u)}),X("click",I,re),Er(H,()=>t(a),q=>p(a,q)),X("change",H,q=>fe(parseInt(q.target.value))),X("click",Y,le),ge(1,w,()=>ye,()=>({duration:200,start:.95,opacity:.8,delay:50})),ge(2,w,()=>ye,()=>({duration:150,start:1,opacity:0})),P(c,w)};ee($t,c=>{t(C)&&c(Ct)})}S(qe),S(xe);var Ee=D(xe,2),Fe=R(Ee);S(Ee);var Pe=D(Ee,2);{var wt=c=>{var w=Yr(),I=R(w),j=R(I);S(I);var L=D(I,2),H=R(L);S(L),S(w),W(Y=>{ie(j,`ææ°æ¨¡å¼é²è¡ä¸­ - ç¬¬ ${t(f)??""} é (${t(a)??""}x${t(a)??""})`),ie(H,`å©é¤æéï¼${Y??""} å ${t(m)%60} ç§`)},[()=>Math.floor(t(m)/60)],Ce),P(c,w)};ee(Pe,c=>{t(u)&&c(wt)})}var Ae=D(Pe,2),kt=R(Ae,!0);S(Ae);var Ve=D(Ae,2);{var xt=c=>{var w=Wr(),I=R(w),j=R(I),L=D(j,4),H=R(L);$r(H,()=>t(d)),S(L),S(I),S(w),X("click",j,U),ge(1,I,()=>ye,()=>({duration:600,start:.5,opacity:0,delay:100})),ge(2,I,()=>ye,()=>({duration:500,start:1,opacity:0})),X("click",w,N),P(c,w)};ee(Ve,c=>{t(k)&&c(xt)})}var Ke=D(Ve,2);Vr(Ke,{get boardData(){return t(i)},onCellClick:M});var Et=D(Ke,2);{var At=c=>{var w=Qr(),I=D(R(w),2);ke(I,5,()=>t(l),we,(j,L)=>{var H=vr(()=>cr(t(L),3));let Y=()=>t(H)[0],ae=()=>t(H)[1],Me=()=>t(H)[2];var q=Jr(),Z=R(q);S(q),W(se=>ie(Z,`ç¬¬ ${Me()??""} æ­¥: é¨ç½²æ¼ (${Y()+1}, ${se??""})`),[()=>String.fromCharCode(65+ae())],Ce),P(j,q)}),S(I),S(w),P(c,w)};ee(Et,c=>{t(l).length>0&&c(At)})}W(()=>{ce(_e,"aria-expanded",t(C)),Fe.disabled=!t(b)&&!t(_),ie(kt,t(v))}),X("click",_e,G),X("click",Fe,()=>x()),P(e,be),_t()}export{sa as component};
