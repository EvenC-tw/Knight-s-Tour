import{b as Z,h as O,x as z,E as V,y as J,H as K,z as Q,A as W,B as X,C as m,D as q,a as p,F as y,U as j,c as k,G as x,I as ee,i as D,J as re,S as w,K as ae,L as se,n as B,M as F,k as d,N as G,O as ie,P as ne,Q as fe,m as M,R as ue,T as te,V as le,W as ce,X as _e,Y as ve,Z as be,_ as de,$ as Ie,a0 as oe,a1 as Se}from"./DwVM7Zy8.js";import{s as Ee,g as Pe}from"./DO2axhmh.js";function Re(e,r,[s,a]=[0,0]){O&&s===0&&z();var f=e,i=null,u=null,I=j,E=s>0?V:0,c=!1;const R=(t,_=!0)=>{c=!0,b(_,t)},b=(t,_)=>{if(I===(I=t))return;let o=!1;if(O&&a!==-1){if(s===0){const l=J(f);l===K?a=0:l===Q?a=1/0:(a=parseInt(l.substring(1)),a!==a&&(a=I?1/0:-1))}const P=a>s;!!I===P&&(f=W(),X(f),m(!1),o=!0,a=-1)}I?(i?q(i):_&&(i=p(()=>_(f))),u&&y(u,()=>{u=null})):(u?q(u):_&&(u=p(()=>_(f,[s+1,a]))),i&&y(i,()=>{i=null})),o&&m(!0)};Z(()=>{c=!1,r(R),c||b(null,null)},E),O&&(f=k)}function C(e,r){return e===r||(e==null?void 0:e[w])===r}function he(e={},r,s,a){return x(()=>{var f,i;return ee(()=>{f=i,i=[],D(()=>{e!==s(...i)&&(r(e,...i),f&&C(s(...f),e)&&r(null,...f))})}),()=>{re(()=>{i&&C(s(...i),e)&&r(null,...i)})}}),e}let A=!1,L=Symbol();function Ne(e,r,s){const a=s[r]??(s[r]={store:null,source:F(void 0),unsubscribe:B});if(a.store!==e&&!(L in s))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=B;else{var f=!0;a.unsubscribe=Ee(e,i=>{f?a.source.v=i:G(a.source,i)}),f=!1}return e&&L in s?Pe(e):d(a.source)}function Oe(){const e={};function r(){ae(()=>{for(var s in e)e[s].unsubscribe();se(e,L,{enumerable:!1,value:!0})})}return[e,r]}function Te(e){var r=A;try{return A=!1,[e(),A]}finally{A=r}}function $(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function De(e,r,s,a){var Y;var f=(s&oe)!==0,i=!ce||(s&_e)!==0,u=(s&ve)!==0,I=(s&Ie)!==0,E=!1,c;u?[c,E]=Te(()=>e[r]):c=e[r];var R=w in e||le in e,b=u&&(((Y=ie(e,r))==null?void 0:Y.set)??(R&&r in e&&(n=>e[r]=n)))||void 0,t=a,_=!0,o=!1,P=()=>(o=!0,_&&(_=!1,I?t=D(a):t=a),t);c===void 0&&a!==void 0&&(b&&i&&be(),c=P(),b&&b(c));var l;if(i)l=()=>{var n=e[r];return n===void 0?P():(_=!0,o=!1,n)};else{var U=(f?M:fe)(()=>e[r]);U.f|=ne,l=()=>{var n=d(U);return n!==void 0&&(t=void 0),n===void 0?t:n}}if((s&de)===0&&i)return l;if(b){var H=e.$$legacy;return function(n,S){return arguments.length>0?((!i||!S||H||E)&&b(S?l():n),n):l()}}var T=!1,h=!1,g=F(c),v=M(()=>{var n=l(),S=d(g);return T?(T=!1,h=!0,S):(h=!1,g.v=n)});return u&&d(v),f||(v.equals=ue),function(n,S){if(Se!==null&&(T=h,l(),d(g)),arguments.length>0){const N=S?d(v):i&&u?te(n):n;if(!v.equals(N)){if(T=!0,G(g,N),o&&t!==void 0&&(t=N),$(v))return n;D(()=>d(v))}return n}return $(v)?v.v:d(v)}}export{Ne as a,he as b,Re as i,De as p,Oe as s};
